<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë³¸ì–´ ë¬¸ì ë³€í™˜ê¸°</title>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
            padding: 20px 10px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 30px;
            font-size: 2.2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            word-break: keep-all;
        }

        .converter-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.3rem;
            color: #4a5568;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            color: #2d3748;
            font-weight: 600;
            font-size: 1rem;
        }

        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            resize: vertical;
            min-height: 120px;
            font-family: 'Noto Sans CJK JP', 'Yu Gothic', sans-serif;
        }

        .text-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .convert-btn {
            width: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .convert-btn:hover, .convert-btn:focus {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            outline: none;
        }

        .convert-btn:active {
            transform: translateY(0);
        }

        .result-display {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            min-height: 120px;
            font-size: 16px;
            color: #2d3748;
            white-space: pre-wrap;
            font-family: 'Noto Sans CJK JP', 'Yu Gothic', sans-serif;
            line-height: 1.8;
        }

        .copy-btn {
            background: linear-gradient(45deg, #48bb78, #38a169);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .copy-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
        }

        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .mode-btn {
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid #e2e8f0;
            color: #4a5568;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            min-width: 120px;
            text-align: center;
        }

        .mode-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .mode-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .info-box {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .info-box h3 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .info-box p {
            color: #4a5568;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .example-text {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Noto Sans CJK JP', 'Yu Gothic', monospace;
            border-left: 4px solid #667eea;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-item {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #667eea;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #48bb78, #38a169);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
            transform: translateX(300px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        .conversion-arrow {
            text-align: center;
            font-size: 1.5rem;
            color: #667eea;
            margin: 10px 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .text-input, .result-display {
                min-height: 100px;
                font-size: 14px;
            }

            .mode-selector {
                flex-direction: column;
                align-items: center;
            }

            .mode-btn {
                min-width: 200px;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .notification {
                right: 10px;
                left: 10px;
                transform: translateY(-100px);
            }

            .notification.show {
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .section-title {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ ì¼ë³¸ì–´ ë¬¸ì ë³€í™˜ê¸°</h1>
        
        <!-- ë³€í™˜ ëª¨ë“œ ì„ íƒ -->
        <div class="mode-selector">
            <button class="mode-btn active" onclick="setMode('romaji-to-kana')">ë¡œë§ˆì â†’ ê°€ë‚˜</button>
            <button class="mode-btn" onclick="setMode('hiragana-to-katakana')">íˆë¼ê°€ë‚˜ â†’ ê°€íƒ€ê°€ë‚˜</button>
            <button class="mode-btn" onclick="setMode('katakana-to-hiragana')">ê°€íƒ€ê°€ë‚˜ â†’ íˆë¼ê°€ë‚˜</button>
            <button class="mode-btn" onclick="setMode('kana-to-romaji')">ê°€ë‚˜ â†’ ë¡œë§ˆì</button>
        </div>

        <!-- ë³€í™˜ê¸° ì„¹ì…˜ -->
        <div class="converter-section">
            <div class="section-title" id="conversion-title">ë¡œë§ˆìë¥¼ íˆë¼ê°€ë‚˜/ê°€íƒ€ê°€ë‚˜ë¡œ ë³€í™˜</div>
            
            <div class="input-group">
                <label class="input-label" id="input-label">ì…ë ¥ í…ìŠ¤íŠ¸:</label>
                <textarea 
                    class="text-input" 
                    id="inputText" 
                    placeholder="ë³€í™˜í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                    oninput="autoConvert()"
                ></textarea>
            </div>

            <button class="convert-btn" onclick="convertText()">
                <i class="fas fa-sync-alt"></i>
                ë³€í™˜í•˜ê¸°
            </button>

            <div class="conversion-arrow">
                <i class="fas fa-arrow-down"></i>
            </div>

            <div class="input-group">
                <label class="input-label" id="output-label">ë³€í™˜ ê²°ê³¼:</label>
                <div class="result-display" id="outputText">ì—¬ê¸°ì— ë³€í™˜ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>
                <button class="copy-btn" onclick="copyResult()">
                    <i class="fas fa-copy"></i>
                    ê²°ê³¼ ë³µì‚¬
                </button>
            </div>
        </div>

        <!-- ê¸°ëŠ¥ ì†Œê°œ -->
        <div class="feature-grid">
            <div class="feature-item">
                <div class="feature-icon">ğŸ”¤</div>
                <h4>ë¡œë§ˆì ë³€í™˜</h4>
                <p>ë¡œë§ˆìë¥¼ íˆë¼ê°€ë‚˜ë‚˜ ê°€íƒ€ê°€ë‚˜ë¡œ ë³€í™˜</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ã‚</div>
                <h4>íˆë¼ê°€ë‚˜ ë³€í™˜</h4>
                <p>íˆë¼ê°€ë‚˜ë¥¼ ê°€íƒ€ê°€ë‚˜ë‚˜ ë¡œë§ˆìë¡œ ë³€í™˜</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ã‚¢</div>
                <h4>ê°€íƒ€ê°€ë‚˜ ë³€í™˜</h4>
                <p>ê°€íƒ€ê°€ë‚˜ë¥¼ íˆë¼ê°€ë‚˜ë‚˜ ë¡œë§ˆìë¡œ ë³€í™˜</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">âš¡</div>
                <h4>ì‹¤ì‹œê°„ ë³€í™˜</h4>
                <p>ì…ë ¥ê³¼ ë™ì‹œì— ìë™ ë³€í™˜</p>
            </div>
        </div>

        <!-- ì‚¬ìš©ë²• ì•ˆë‚´ -->
        <div class="info-box">
            <h3>ğŸ“š ì‚¬ìš©ë²• ì•ˆë‚´</h3>
            <p><strong>ë¡œë§ˆì â†’ ê°€ë‚˜:</strong> "konnichiwa" â†’ "ã“ã‚“ã«ã¡ã¯" / "ã‚³ãƒ³ãƒ‹ãƒãƒ"</p>
            <p><strong>íˆë¼ê°€ë‚˜ â†’ ê°€íƒ€ê°€ë‚˜:</strong> "ã“ã‚“ã«ã¡ã¯" â†’ "ã‚³ãƒ³ãƒ‹ãƒãƒ"</p>
            <p><strong>ê°€íƒ€ê°€ë‚˜ â†’ íˆë¼ê°€ë‚˜:</strong> "ã‚³ãƒ³ãƒ‹ãƒãƒ" â†’ "ã“ã‚“ã«ã¡ã¯"</p>
            <p><strong>ê°€ë‚˜ â†’ ë¡œë§ˆì:</strong> "ã“ã‚“ã«ã¡ã¯" â†’ "konnichiwa"</p>
            <div class="example-text">
                ì˜ˆì‹œ: arigatou gozaimasu â†’ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ â†’ ã‚¢ãƒªã‚¬ãƒˆã‚¦ã‚´ã‚¶ã‚¤ãƒã‚¹
            </div>
        </div>
    </div>

    <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
    <div class="notification" id="notification"></div>

    <script>
        let currentMode = 'romaji-to-kana';

        // íˆë¼ê°€ë‚˜ - ê°€íƒ€ê°€ë‚˜ - ë¡œë§ˆì ë³€í™˜ í…Œì´ë¸”
        const conversionTable = {
            // ê¸°ë³¸ ë¬¸ì
            'ã‚': { katakana: 'ã‚¢', romaji: 'a' },
            'ã„': { katakana: 'ã‚¤', romaji: 'i' },
            'ã†': { katakana: 'ã‚¦', romaji: 'u' },
            'ãˆ': { katakana: 'ã‚¨', romaji: 'e' },
            'ãŠ': { katakana: 'ã‚ª', romaji: 'o' },
            'ã‹': { katakana: 'ã‚«', romaji: 'ka' },
            'ã': { katakana: 'ã‚­', romaji: 'ki' },
            'ã': { katakana: 'ã‚¯', romaji: 'ku' },
            'ã‘': { katakana: 'ã‚±', romaji: 'ke' },
            'ã“': { katakana: 'ã‚³', romaji: 'ko' },
            'ã•': { katakana: 'ã‚µ', romaji: 'sa' },
            'ã—': { katakana: 'ã‚·', romaji: 'shi' },
            'ã™': { katakana: 'ã‚¹', romaji: 'su' },
            'ã›': { katakana: 'ã‚»', romaji: 'se' },
            'ã': { katakana: 'ã‚½', romaji: 'so' },
            'ãŸ': { katakana: 'ã‚¿', romaji: 'ta' },
            'ã¡': { katakana: 'ãƒ', romaji: 'chi' },
            'ã¤': { katakana: 'ãƒ„', romaji: 'tsu' },
            'ã¦': { katakana: 'ãƒ†', romaji: 'te' },
            'ã¨': { katakana: 'ãƒˆ', romaji: 'to' },
            'ãª': { katakana: 'ãƒŠ', romaji: 'na' },
            'ã«': { katakana: 'ãƒ‹', romaji: 'ni' },
            'ã¬': { katakana: 'ãƒŒ', romaji: 'nu' },
            'ã­': { katakana: 'ãƒ', romaji: 'ne' },
            'ã®': { katakana: 'ãƒ', romaji: 'no' },
            'ã¯': { katakana: 'ãƒ', romaji: 'ha' },
            'ã²': { katakana: 'ãƒ’', romaji: 'hi' },
            'ãµ': { katakana: 'ãƒ•', romaji: 'fu' },
            'ã¸': { katakana: 'ãƒ˜', romaji: 'he' },
            'ã»': { katakana: 'ãƒ›', romaji: 'ho' },
            'ã¾': { katakana: 'ãƒ', romaji: 'ma' },
            'ã¿': { katakana: 'ãƒŸ', romaji: 'mi' },
            'ã‚€': { katakana: 'ãƒ ', romaji: 'mu' },
            'ã‚': { katakana: 'ãƒ¡', romaji: 'me' },
            'ã‚‚': { katakana: 'ãƒ¢', romaji: 'mo' },
            'ã‚„': { katakana: 'ãƒ¤', romaji: 'ya' },
            'ã‚†': { katakana: 'ãƒ¦', romaji: 'yu' },
            'ã‚ˆ': { katakana: 'ãƒ¨', romaji: 'yo' },
            'ã‚‰': { katakana: 'ãƒ©', romaji: 'ra' },
            'ã‚Š': { katakana: 'ãƒª', romaji: 'ri' },
            'ã‚‹': { katakana: 'ãƒ«', romaji: 'ru' },
            'ã‚Œ': { katakana: 'ãƒ¬', romaji: 're' },
            'ã‚': { katakana: 'ãƒ­', romaji: 'ro' },
            'ã‚': { katakana: 'ãƒ¯', romaji: 'wa' },
            'ã‚': { katakana: 'ãƒ°', romaji: 'wi' },
            'ã‚‘': { katakana: 'ãƒ±', romaji: 'we' },
            'ã‚’': { katakana: 'ãƒ²', romaji: 'wo' },
            'ã‚“': { katakana: 'ãƒ³', romaji: 'n' },
            
            // íƒìŒ
            'ãŒ': { katakana: 'ã‚¬', romaji: 'ga' },
            'ã': { katakana: 'ã‚®', romaji: 'gi' },
            'ã': { katakana: 'ã‚°', romaji: 'gu' },
            'ã’': { katakana: 'ã‚²', romaji: 'ge' },
            'ã”': { katakana: 'ã‚´', romaji: 'go' },
            'ã–': { katakana: 'ã‚¶', romaji: 'za' },
            'ã˜': { katakana: 'ã‚¸', romaji: 'ji' },
            'ãš': { katakana: 'ã‚º', romaji: 'zu' },
            'ãœ': { katakana: 'ã‚¼', romaji: 'ze' },
            'ã': { katakana: 'ã‚¾', romaji: 'zo' },
            'ã ': { katakana: 'ãƒ€', romaji: 'da' },
            'ã¢': { katakana: 'ãƒ‚', romaji: 'ji' },
            'ã¥': { katakana: 'ãƒ…', romaji: 'zu' },
            'ã§': { katakana: 'ãƒ‡', romaji: 'de' },
            'ã©': { katakana: 'ãƒ‰', romaji: 'do' },
            'ã°': { katakana: 'ãƒ', romaji: 'ba' },
            'ã³': { katakana: 'ãƒ“', romaji: 'bi' },
            'ã¶': { katakana: 'ãƒ–', romaji: 'bu' },
            'ã¹': { katakana: 'ãƒ™', romaji: 'be' },
            'ã¼': { katakana: 'ãƒœ', romaji: 'bo' },
            
            // ë°˜íƒìŒ
            'ã±': { katakana: 'ãƒ‘', romaji: 'pa' },
            'ã´': { katakana: 'ãƒ”', romaji: 'pi' },
            'ã·': { katakana: 'ãƒ—', romaji: 'pu' },
            'ãº': { katakana: 'ãƒš', romaji: 'pe' },
            'ã½': { katakana: 'ãƒ', romaji: 'po' },
            
            // ì‘ì€ ë¬¸ìë“¤
            'ã‚ƒ': { katakana: 'ãƒ£', romaji: 'ya' },
            'ã‚…': { katakana: 'ãƒ¥', romaji: 'yu' },
            'ã‚‡': { katakana: 'ãƒ§', romaji: 'yo' },
            'ã£': { katakana: 'ãƒƒ', romaji: 'tsu' }
        };

        // ë¡œë§ˆìë¥¼ ê°€ë‚˜ë¡œ ë³€í™˜í•˜ëŠ” í…Œì´ë¸”
        const romajiToKana = {};
        const katakanaToHiragana = {};
        const hiraganaToKatakana = {};
        const kanaToRomaji = {};

        // ë³€í™˜ í…Œì´ë¸” ìƒì„±
        for (const [hiragana, data] of Object.entries(conversionTable)) {
            romajiToKana[data.romaji] = { hiragana, katakana: data.katakana };
            katakanaToHiragana[data.katakana] = hiragana;
            hiraganaToKatakana[hiragana] = data.katakana;
            kanaToRomaji[hiragana] = data.romaji;
            kanaToRomaji[data.katakana] = data.romaji;
        }

        // ê¸´ ë¡œë§ˆì ì¡°í•© ì¶”ê°€
        const longRomaji = {
            'kya': 'ãã‚ƒ', 'kyu': 'ãã‚…', 'kyo': 'ãã‚‡',
            'sha': 'ã—ã‚ƒ', 'shu': 'ã—ã‚…', 'sho': 'ã—ã‚‡',
            'cha': 'ã¡ã‚ƒ', 'chu': 'ã¡ã‚…', 'cho': 'ã¡ã‚‡',
            'nya': 'ã«ã‚ƒ', 'nyu': 'ã«ã‚…', 'nyo': 'ã«ã‚‡',
            'hya': 'ã²ã‚ƒ', 'hyu': 'ã²ã‚…', 'hyo': 'ã²ã‚‡',
            'mya': 'ã¿ã‚ƒ', 'myu': 'ã¿ã‚…', 'myo': 'ã¿ã‚‡',
            'rya': 'ã‚Šã‚ƒ', 'ryu': 'ã‚Šã‚…', 'ryo': 'ã‚Šã‚‡',
            'gya': 'ãã‚ƒ', 'gyu': 'ãã‚…', 'gyo': 'ãã‚‡',
            'ja': 'ã˜ã‚ƒ', 'ju': 'ã˜ã‚…', 'jo': 'ã˜ã‚‡',
            'bya': 'ã³ã‚ƒ', 'byu': 'ã³ã‚…', 'byo': 'ã³ã‚‡',
            'pya': 'ã´ã‚ƒ', 'pyu': 'ã´ã‚…', 'pyo': 'ã´ã‚‡'
        };

        // ê¸´ ë¡œë§ˆì§€ ì¡°í•©ì„ ë©”ì¸ í…Œì´ë¸”ì— ì¶”ê°€
        for (const [romaji, hiragana] of Object.entries(longRomaji)) {
            const katakana = hiraganaToKatakana[hiragana.charAt(0)] + hiraganaToKatakana[hiragana.charAt(1)];
            romajiToKana[romaji] = { hiragana, katakana };
        }

        function setMode(mode) {
            currentMode = mode;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // UI í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            updateUITexts();
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').textContent = 'ì—¬ê¸°ì— ë³€í™˜ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.';
        }

        function updateUITexts() {
            const titles = {
                'romaji-to-kana': 'ë¡œë§ˆìë¥¼ íˆë¼ê°€ë‚˜/ê°€íƒ€ê°€ë‚˜ë¡œ ë³€í™˜',
                'hiragana-to-katakana': 'íˆë¼ê°€ë‚˜ë¥¼ ê°€íƒ€ê°€ë‚˜ë¡œ ë³€í™˜',
                'katakana-to-hiragana': 'ê°€íƒ€ê°€ë‚˜ë¥¼ íˆë¼ê°€ë‚˜ë¡œ ë³€í™˜',
                'kana-to-romaji': 'íˆë¼ê°€ë‚˜/ê°€íƒ€ê°€ë‚˜ë¥¼ ë¡œë§ˆìë¡œ ë³€í™˜'
            };
            
            const placeholders = {
                'romaji-to-kana': 'konnichiwa, arigatou ë“± ë¡œë§ˆìë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                'hiragana-to-katakana': 'ã“ã‚“ã«ã¡ã¯, ã‚ã‚ŠãŒã¨ã† ë“± íˆë¼ê°€ë‚˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                'katakana-to-hiragana': 'ã‚³ãƒ³ãƒ‹ãƒãƒ, ã‚¢ãƒªã‚¬ãƒˆã‚¦ ë“± ê°€íƒ€ê°€ë‚˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                'kana-to-romaji': 'ã“ã‚“ã«ã¡ã¯, ã‚³ãƒ³ãƒ‹ãƒãƒ ë“± ê°€ë‚˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”'
            };
            
            document.getElementById('conversion-title').textContent = titles[currentMode];
            document.getElementById('inputText').placeholder = placeholders[currentMode];
        }

        function convertText() {
            const input = document.getElementById('inputText').value.trim().toLowerCase();
            if (!input) {
                showNotification('ë³€í™˜í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!', 'warning');
                return;
            }

            let result = '';
            
            try {
                switch (currentMode) {
                    case 'romaji-to-kana':
                        result = convertRomajiToKana(input);
                        break;
                    case 'hiragana-to-katakana':
                        result = convertHiraganaToKatakana(input);
                        break;
                    case 'katakana-to-hiragana':
                        result = convertKatakanaToHiragana(input);
                        break;
                    case 'kana-to-romaji':
                        result = convertKanaToRomaji(input);
                        break;
                }
                
                document.getElementById('outputText').textContent = result || 'ë³€í™˜í•  ìˆ˜ ì—†ëŠ” ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.';
                if (result) {
                    showNotification('ë³€í™˜ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                }
            } catch (error) {
                document.getElementById('outputText').textContent = 'ë³€í™˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                showNotification('ë³€í™˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        function convertRomajiToKana(text) {
            let result = { hiragana: '', katakana: '' };
            let i = 0;
            
            while (i < text.length) {
                let found = false;
                
                // ê¸´ ì¡°í•©ë¶€í„° í™•ì¸ (3ê¸€ì)
                for (let len = 3; len >= 1; len--) {
                    const substr = text.substr(i, len);
                    if (romajiToKana[substr]) {
                        result.hiragana += romajiToKana[substr].hiragana;
                        result.katakana += romajiToKana[substr].katakana;
                        i += len;
                        found = true;
                        break;
                    }
                }
                
                if (!found) {
                    // ë³€í™˜í•  ìˆ˜ ì—†ëŠ” ë¬¸ìëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
                    result.hiragana += text[i];
                    result.katakana += text[i];
                    i++;
                }
            }
            
            return `íˆë¼ê°€ë‚˜: ${result.hiragana}\nê°€íƒ€ê°€ë‚˜: ${result.katakana}`;
        }

        function convertHiraganaToKatakana(text) {
            let result = '';
            for (let char of text) {
                result += hiraganaToKatakana[char] || char;
            }
            return result;
        }

        function convertKatakanaToHiragana(text) {
            let result = '';
            for (let char of text) {
                result += katakanaToHiragana[char] || char;
            }
            return result;
        }

        function convertKanaToRomaji(text) {
            let result = '';
            for (let char of text) {
                result += kanaToRomaji[char] || char;
            }
            return result;
        }

        function autoConvert() {
            const input = document.getElementById('inputText').value;
            if (input.length > 0) {
                convertText();
            } else {
                document.getElementById('outputText').textContent = 'ì—¬ê¸°ì— ë³€í™˜ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.';
            }
        }

        function copyResult() {
            const result = document.getElementById('outputText').textContent;
            if (result === 'ì—¬ê¸°ì— ë³€í™˜ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.' || result === 'ë³€í™˜í•  ìˆ˜ ì—†ëŠ” ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.') {
                showNotification('ë³µì‚¬í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.', 'warning');
                return;
            }

            navigator.clipboard.writeText(result).then(function() {
                showNotification('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }).catch(function() {
                // í´ë¦½ë³´ë“œ APIë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš° ëŒ€ì²´ ë°©ë²•
                const textArea = document.createElement('textarea');
                textArea.value = result;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showNotification('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                } catch (err) {
                    showNotification('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                }
                document.body.removeChild(textArea);
            });
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            
            // íƒ€ì…ì— ë”°ë¥¸ ìƒ‰ìƒ ë³€ê²½
            switch (type) {
                case 'success':
                    notification.style.background = 'linear-gradient(45deg, #48bb78, #38a169)';
                    break;
                case 'warning':
                    notification.style.background = 'linear-gradient(45deg, #ed8936, #dd6b20)';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(45deg, #f56565, #e53e3e)';
                    break;
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case 'Enter':
                        e.preventDefault();
                        convertText();
                        break;
                    case 'c':
                        if (e.shiftKey) {
                            e.preventDefault();
                            copyResult();
                        }
                        break;
                }
            }
        });

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            updateUITexts();
            
            // ì˜ˆì‹œ í…ìŠ¤íŠ¸ ì„¤ì •
            const examples = {
                'romaji-to-kana': 'konnichiwa arigatou gozaimasu',
                'hiragana-to-katakana': 'ã“ã‚“ã«ã¡ã¯ ã‚ã‚ŠãŒã¨ã†',
                'katakana-to-hiragana': 'ã‚³ãƒ³ãƒ‹ãƒãƒ ã‚¢ãƒªã‚¬ãƒˆã‚¦',
                'kana-to-romaji': 'ã“ã‚“ã«ã¡ã¯ ã‚³ãƒ³ãƒ‹ãƒãƒ'
            };
            
            // ëª¨ë“œ ë²„íŠ¼ì— ì˜ˆì‹œ ì„¤ì • ê¸°ëŠ¥ ì¶”ê°€
            document.querySelectorAll('.mode-btn').forEach((btn, index) => {
                btn.addEventListener('click', function() {
                    const modes = ['romaji-to-kana', 'hiragana-to-katakana', 'katakana-to-hiragana', 'kana-to-romaji'];
                    setTimeout(() => {
                        document.getElementById('inputText').value = examples[modes[index]];
                        autoConvert();
                    }, 100);
                });
            });
            
            // í„°ì¹˜ ë””ë°”ì´ìŠ¤ ìµœì í™”
            if ('ontouchstart' in window) {
                document.body.style.overflow = 'auto';
                document.body.style.webkitOverflowScrolling = 'touch';
            }
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ ì˜ˆì‹œ ì„¤ì •
        window.addEventListener('load', function() {
            document.getElementById('inputText').value = 'konnichiwa arigatou gozaimasu';
            autoConvert();
        });
    </script>
</body>
</html>